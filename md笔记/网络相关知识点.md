# 网络相关知识点

## 1.	HTTP协议

> HTTP 是超文本传输协议，它定义了客户端和服务器之间交换报文的格式和方式，默认使用 80 端口。它使用 TCP 作为传 输层协议，保证了数据传输的可靠性。
>
> HTTP 是一个无状态的协议，HTTP 服务器不会保存关于客户的任何信息。
>
> HTTP 有两种连接模式，一种是持续连接，一种非持续连接。非持续连接指的是服务器必须为每一个请求的对象建立和维护 一个全新的连接。持续连接下，TCP 连接默认不关闭，可以被多个请求复用。采用持续连接的好处是可以避免每次建立 TCP 连接三次握手时所花费的时间。在 HTTP1.0 以前使用的非持续的连接，但是可以在请求时，加上 Connection: keep-alive 来要求服务器不要关闭 TCP 连接。HTTP1.1 以后默认采用的是持续的连接。目前对于同一个域，大多数浏览器支持 同时建立 6 个持久连接。

## 2.常见状态码

> 1XX 代表服务器接收到请求、2XX 代表成功、3XX 代表重定向、4XX 代表客户端错误、5XX 代表服务器端错误。

- 200-请求成功、
- 202-服务器端已经收到请求消息，但是尚未进行处理 
- 301-永久移动、
- 302-临时移动、
- 304-所请求的资源未修改、
-  400-客户端请求的语法错误、
- 404-请求的资源不存在 
- 500-服务器内部错误

## 3.HTTP/1.1

> **优点**：支持长连接和请求的流水线，在一个TCP连接上可以传送多个HTTP请求，避免了因为多次建立TCP连接的时间消耗和延时

> **缺点**：同一个 TCP 连接里面，数据请求的通信次序 是固定的。服务器只有处理完一个请求的响应后，才会进行下一个请求的处理，如果前面请求的响应特别慢的话，就会造成许 多请求排队等待的情况，这种情况被称为“队头堵塞”。队头阻塞会导致持久连接在达到最大数量时，剩余的资源需要等待其他 资源请求完成后才能发起请求。

为了避免这个问题，一个是减少请求数，一个是同时打开多个持久连接。这就是我们对网站优化时，使用雪碧图、合并脚本的 原因。

## 4.HTTP/2.0

> **多路复用：** 即多个请求都通过一个TCP连接并发地完成
>
> **服务端推送：** 服务端能够主动把资源推送给客户端
>
> **新的二进制格式：** HTTP/2采用二进制格式传输数据，相比于HTTP/1.1的文本格式，二进制格式具有更好的解析性和拓展性
>
> **header压缩：** HTTP/2压缩消息头，减少了传输数据的大小

> **缺点**：与1.1相似，但是阻塞问题更大，因为只通过一个TCP连接。而1.1最多可用6个。这是使用TCP协议的底层局限性

## 5.HTTP/3.0

> 由于使用TCP的局限性，3.0使用了UDP协议，在UDP的基础上实现多路复用、0-RTT、TLS加密、流量控制、丢包重传等功能。

## 6.HTTPS

> 超文本传输安全协议
>
> S为数据加密协议

- HTTPS使用443端口，而HTTP使用80
- HTTPS需要申请证书
- HTTP是超文本传输协议，是明文传输；HTTPS是经过SSL加密的协议，传输更安全
- HTTPS比HTTP慢，因为HTTPS除了TCP握手的三个包，还要加上SSL握手的九个包

# 7.HTTP的请求方式

- get 从服务器获取
- post 向服务器发送

- put 增加
- delete 删除
- head、options、trace、connection、track…

## 8.AJAX 的过程是怎么样的

- (1)创建XMLHttpRequest对象,也就是创建一个异步调用对象.
- (2)创建一个新的HTTP请求,并指定该HTTP请求的方法、URL及验证信息.
- (3)设置响应HTTP请求状态变化的函数.
- (4)发送HTTP请求.
- (5)获取异步调用返回的数据.
- (6)使用JavaScript和DOM实现局部刷新.

一个简单的ajax请求

```js
$.ajax({
    url: "test.txt?_=" + Math.random(),
    type: "get",
    dataType: "json",//->text获取的是一个字符串 json获取的是一个对象
    success: function (data) {
        console.log(data);
        //->解析数据和实现数据绑定都可以继续在这个方法中去操作了
    }
});
```



## 9.get和post的区别

- （1）从应用场景上来说，GET 请求是一个幂等的请求，一般 Get 请求用于对服务器资源不会产生影响的场景，比如说请求一个网页。而 Post 不是一个幂等的请求，一般用于对服务器资源会产生影响的情景。比如注册用户这一类的操作。
- （2）因为不同的应用场景，所以浏览器一般会对 Get 请求缓存，但很少对 Post 请求缓存。
- （3）从发送的报文格式来说，Get 请求的报文中实体部分为空，Post 请求的报文中实体部分一般为向服务器发送的数据。
- （4）但是 Get 请求也可以将请求的参数放入 url 中向服务器发送，
  - 这样的做法相对于 Post 请求来说，一个方面是不太安全，因为请求的 url 会被保留在历史记录中。并且浏览器由于对 url 有一个长度上的限制，所以会影响 get 请求发送数据时的长度。这个限制是浏览器规定的，并不是 RFC 规定的。还有就是 post 的参数传递支持更多的数据类型。

## 10.正向代理和反向代理

> 我们常说的代理也就是指正向代理，正向代理的过程，**它隐藏了真实的请求客户端**，服务端不知道真实的客户端是谁，客户端请求的 服务都被代理服务器代替来请求。
>
> 反向代理**隐藏了真实的服务端**，当我们请求一个网站的时候，背后可能有成千上万台服务器为我们服务，但具体是哪一台，我们不知 道，也不需要知道，我们只需要知道反向代理服务器是谁就好了，反向代理服务器会帮我们把请求转发到真实的服务器那里去。反向 代理器一般用来实现负载平衡。